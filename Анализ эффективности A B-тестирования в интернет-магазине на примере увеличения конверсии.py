#!/usr/bin/env python
# coding: utf-8

# **–î–µ–Ω–∏—Å, –ø—Ä–∏–≤–µ—Ç!**
# 
# –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª–µ–∫—Å–µ–π –ö–∞—Ä–≥–∏–Ω, —è –±—É–¥—É –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–æ–µ–∫—Ç **–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –≤ –±–∏–∑–Ω–µ—Å–µ**. –ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è! –ü—Ä–µ–¥–ª–∞–≥–∞—é –æ–±—â–∞—Ç—å—Å—è –Ω–∞ ¬´—Ç—ã¬ª. –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ, –±—É–¥–µ—Ç –∑–¥–æ—Ä–æ–≤–æ, –µ—Å–ª–∏ —è –æ–± —ç—Ç–æ–º —É–∑–Ω–∞—é, –∏ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ ¬´–≤—ã¬ª. –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —è –æ—Å—Ç–∞–≤–ª—é –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —è—á–µ–π–∫–∞—Ö Markdown —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º ¬´–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞¬ª. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–π, –Ω–µ –∏–∑–º–µ–Ω—è–π –∏ –Ω–µ —É–¥–∞–ª—è–π –∏—Ö - —Ç–∞–∫ –Ω–∞—à–µ –æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –±–æ–ª–µ–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–º. –Ø –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é —Ä–∞–∑–º–µ—Ç–∫—É:
# 
# <div class="alert alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞</b> 
#     
# ‚úç –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è. –ë–µ–∑ –∏—Ö –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ –±—É–¥–µ—Ç –ø—Ä–∏–Ω—è—Ç. –ü—Ä–æ–≤–µ—Ä—è—è –ø—Ä–æ–µ–∫—Ç, —è –±—É–¥—É –¥–µ–ª–∞—Ç—å –∞–∫—Ü–µ–Ω—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –µ–≥–æ —Ä–µ—à–µ–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø—É–Ω–∫—Ç–æ–≤, –Ω–æ –∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
# </div>
# 
# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞</b> 
#     
# üìù –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã –Ω–µ–±–æ–ª—å—à–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏–ª–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏. –ü–æ—Å—Ç–∞—Ä–∞–π—Å—è —É—á–µ—Å—Ç—å —ç—Ç–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ, –∞ —Ç–∞–∫–∂–µ –≤–∑—è—Ç—å —á—Ç–æ-—Ç–æ –Ω–∞ –±—É–¥—É—â–µ–µ.
# </div>
# 
# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞</b> 
#     
# üëç –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –≤–∫–ª—é—á–∞—è –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è.
# </div>
# 
# –î–∞–≤–∞–π —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –≤ –¥–∏–∞–ª–æ–≥–µ: –µ—Å–ª–∏ —Ç—ã —á—Ç–æ-—Ç–æ –º–µ–Ω—è–µ—à—å –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏–ª–∏ –æ—Ç–≤–µ—á–∞–µ—à—å –Ω–∞ –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Äî –ø–∏—à–∏ –æ–± —ç—Ç–æ–º. –ú–Ω–µ –±—É–¥–µ—Ç –ª–µ–≥—á–µ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—ã –≤—ã–¥–µ–ª–∏—à—å —Å–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:
# 
# <div class="alert alert-info"> 
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b> 
#     
# –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Ç–∞–∫. –¢–∞–∫–∂–µ –≤ —Ç–∞–∫–∏—Ö –±–ª–æ–∫–∞—Ö —É –º–µ–Ω—è –º–æ–∂–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–µ—è—Å–Ω—ã–º.
# </div>
# 
# ---
# 
# <div class="alert alert-success">
# <b>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å v.1</b> 
#     
# üëã –î–µ–Ω–∏—Å, —Å–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø—Ä–∏—Å–ª–∞–ª –¥–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–æ–µ–∫—Ç–∞. –ö–∞–∫ –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, –±—ã–ª–∞ –ø—Ä–æ–¥–µ–ª–∞–Ω–∞ –±–æ–ª—å—à–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–æ–º –≤ —Ö–æ–¥–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π –∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–µ–∫—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–Ω—è—Ç! –°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—Ç—É. –ü–æ—Å–º–æ—Ç—Ä–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —è –æ—Å—Ç–∞–≤–∏–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
#     
# –û—Ç–ª–∏—á–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –º–æ–¥—É–ª—è—Ö!
# 
#     
# <br>    
# –° –Ω–∞–∏–ª—É—á—à–∏–º–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è–º–∏, <br>
# –ê–ª–µ–∫—Å–µ–π
# </div>
# 
# 
# ---

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <b>–ü—Ä–∏–≤–µ—Ç, –î–µ–Ω–∏—Å!üëã
# 
# –ú–µ–Ω—è –∑–æ–≤—É—Ç –≠–ª—å–≤–∏—Ä–∞, —è –±—É–¥—É —Ä–µ–≤—å—é–µ—Ä–æ–º —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –ü—Ä–µ–¥–ª–∞–≥–∞—é –æ–±—â–∞—Ç—å—Å—è –Ω–∞ ¬´—Ç—ã¬ª, –Ω–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —É–¥–æ–±–Ω–æ - –¥–∞–π –º–Ω–µ –∑–Ω–∞—Ç—å, –∏ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ ¬´–≤—ã¬ª.
# 
# 
# –¢—ã –º–æ–∂–µ—à—å –Ω–∞–π—Ç–∏ –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–±–æ–∑–Ω–∞—á–µ–Ω–Ω—ã–µ <font color='green'>–∑–µ–ª–µ–Ω—ã–º</font>, <font color='gold'>–∂–µ–ª—Ç—ã–º</font> –∏ <font color='red'>–∫—Ä–∞—Å–Ω—ã–º</font> —Ü–≤–µ—Ç–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
# 
# 
# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä<a class="tocSkip"> </h2>
#     
# –¢–∞–∫–∏–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ —è –±—É–¥—É –ø–æ–º–µ—á–∞—Ç—å –æ—Ç–ª–∏—á–Ω–æ –ø—Ä–æ–¥–µ–ª–∞–Ω—É—é —Ä–∞–±–æ—Ç—Éüòâ
# </div>
#     
# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
#         
# –í —Ç–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö —è –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å —Ç–µ–±–µ –±–æ–ª–µ–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–µ –∏–ª–∏ –ª–µ–≥–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ö–∏—Ç—Ä–æ—Å—Ç–∏ –∏ —Ñ–∏—à–∫–∏. –ß–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ —Ç–∞–∫–∏–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏, –º–æ–∂–Ω–æ –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –æ–±—Ä–∞—Ç–∏—Ç—å –Ω–∞ –Ω–∏—Ö –≤–Ω–∏–º–∞–Ω–∏–µ.</div>
# 
# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î<a class="tocSkip"></h2>
#     
# –í —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —à–∞–≥–µ —Ç—Ä–µ–±—É–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤–Ω–µ—Å–µ–Ω–∏—è –ø—Ä–∞–≤–æ–∫. –ï—Å–ª–∏ —Ç—ã –≤–∏–¥–∏—à—å —Ç–∞–∫–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –∑–Ω–∞—á–∏—Ç –∑–¥–µ—Å—Ç—å –µ—Å—Ç—å –Ω–µ–¥–æ—á–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å.
# </div>
# 
# –¢—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—à—å —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–≤–æ–∏–º–∏, –≤—ã–¥–µ–ª—è—è –∏—Ö —Ü–≤–µ—Ç–∞–º–∏ –∏ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–º—Å—è —Ç–µ–±–µ —Å–ø–æ—Å–æ–±–æ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è, –Ω–æ —è–≤–Ω–æ  –æ—Ç–ª–∏—á–∞—é—â–∏–º—Å—è –æ—Ç –º–æ–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –≠—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –ø—É—Ç–∞–Ω–∏—Ü–∞üôÉ
#     
# <div class="alert alert-info"> <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞:</b> –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Ç–∞–∫.</div>
# 
# –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã–π –±–ª–æ–∫, –∫–ª–∏–∫–Ω–∏ –∑–¥–µ—Å—å –¥–≤–∞–∂–¥—ã –∏ —Å–∫–æ–ø–∏—Ä—É–π –≤—Å—é –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–æ–∫—É ;)
#     
# –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ —É–¥–∞–ª—è–π –∏ –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–π –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–Ω–∏ –±—É–¥—É—Ç –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –Ω–∞—à–µ–π —Ä–∞–±–æ—Ç—ã –≤ —Å–ª—É—á–∞–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.</div></b>

# # <h1>–ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ A/B-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏<span class="tocSkip"></span></h1><div class="toc"><ul class="toc-item"></ul></div>

# –¶–µ–ª—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: –∏–∑—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã A/B-—Ç–µ—Å—Ç–∞ –∏ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–∞–π—Ç–µ.

# –ó–∞–¥–∞—á–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:
# 
# –ü—Ä–æ–≤–µ—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ü–µ–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö.
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏.
# –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫—É—é –∑–Ω–∞—á–∏–º–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º: –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É.
# –ò–∑—É—á–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤—ã—è–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –≤ –∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –ø–æ–≤–µ–¥–µ–Ω–∏—è.
# –°–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ç–µ—Å—Ç–∞ –∏ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–∞–π—Ç–µ.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –≤ –Ω–∞—á–∞–ª–µ –µ—Å—Ç—å –≤–≤–æ–¥–Ω–∞—è —á–∞—Å—Ç—å. –í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª—å –ê–í —Ç–µ—Å—Ç–∞ (—á—Ç–æ –±—ã–ª–æ –∏–∑—É—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ –∏ —á–∏—Å–ª–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞ –Ω–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏).
# </div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä<a class="tocSkip"> </h2>
#     
# –û—á–µ–Ω—å –∑–¥–æ—Ä–æ–≤–æ, —á—Ç–æ —Ç—ã –Ω–∞—á–∏–Ω–∞–µ—à—å –ø—Ä–æ–µ–∫—Ç —Å —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–∏—è, —Ç–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!
# </div>

# ## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –≥–∏–ø–æ—Ç–µ–∑

# In[1]:


import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import scipy.stats as stats
from scipy.stats import mannwhitneyu


# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä<a class="tocSkip"> </h2>
# 
# –ú–æ–ª–æ–¥–µ—Ü, —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—à—å –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞. –¢–∞–∫ —Å–ª–æ–∂–Ω–µ–π —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏—Ç—å —è—á–µ–π–∫—É —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω—É–∂–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—â–∏–º. –ê –ø–æ–ª—É—á–∞—Ç–µ–ª—å –æ—Ç—á–µ—Ç–∞ —Å—Ä–∞–∑—É –ø–æ–π–º–µ—Ç, –∫–∞–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –∏ –∫–∞–∫–∏–µ –µ–º—É –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞.
# 
# </div>

# In[2]:


hypothesis = pd.read_csv('/datasets/hypothesis.csv')
display(hypothesis.head())


# In[3]:


pd.options.display.max_colwidth = 130


# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
#         
# –†–∞—Å—à–∏—Ä–∏—Ç—å –≤—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —è—á–µ–µ–∫ –º—ã –º–æ–∂–µ–º —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–∞–∫ –º—ã —Å–º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –≥–∏–ø–æ—Ç–µ–∑:
#     
# ```python
# pd.options.display.max_colwidth = 130
# ```
# </div>

# <div class="alert alert-info"> <b>–î–æ–±–∞–≤–∏–ª –≤—ã–≤–æ–¥ –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ</b></div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_2 <a class="tocSkip"> </h2>
# 
# üëç

# In[4]:


hypothesis['ICE'] = (hypothesis['Impact'] * hypothesis['Confidence']) / hypothesis['Efforts']
display(hypothesis[['Hypothesis', 'ICE']].sort_values(by='ICE', ascending=False).round(2))


# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
#         
# –ë—É–¥–µ—Ç –ª—É—á—à–µ –æ–∫—Ä—É–≥–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π. </div>   

# <div class="alert alert-info"> <b>–û–∫—Ä—É–≥–ª–∏–ª</b></div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_2 <a class="tocSkip"> </h2>
# 
# üëç

# In[5]:


hypothesis['RICE'] = (hypothesis['Reach'] * hypothesis['Impact'] * hypothesis['Confidence']) / hypothesis['Efforts']
display(hypothesis[['Hypothesis', 'RICE']].sort_values(by='RICE', ascending=False))


# ### –í—ã–≤–æ–¥—ã –ø–æ –≥–∏–ø–æ—Ç–µ–∑–∞–º

# –ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ RICE –≤–º–µ—Å—Ç–æ ICE –ø—Ä–æ–∏–∑–æ—à–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏ –≥–∏–ø–æ—Ç–µ–∑. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≥–∏–ø–æ—Ç–µ–∑—ã –ø–æ–¥–Ω—è–ª–∏—Å—å –≤—ã—à–µ –∏–ª–∏ –æ–ø—É—Å—Ç–∏–ª–∏—Å—å –Ω–∏–∂–µ –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤.
# 
# –¢–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≥–∏–ø–æ—Ç–µ–∑–∞ ‚Ññ 8 "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–∫—Ü–∏—é, –¥–∞—é—â—É—é —Å–∫–∏–¥–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä –≤ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è" –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ ICE –∑–∞–Ω–∏–º–∞–ª–∞ –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, –Ω–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ RICE –æ–Ω–∞ –æ–ø—É—Å—Ç–∏–ª–∞—Å—å –¥–æ 5-–≥–æ –º–µ—Å—Ç–∞. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –æ—Ö–≤–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Reach) —É —ç—Ç–æ–π –≥–∏–ø–æ—Ç–µ–∑—ã —Ä–∞–≤–µ–Ω 1, —á—Ç–æ —Å–∏–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –µ–µ –æ–±—â–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ RICE.
# 
# –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ RICE, –≥–∏–ø–æ—Ç–µ–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –≤—ã—Å–æ–∫–∏–π –æ—Ö–≤–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º –≥–∏–ø–æ—Ç–µ–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤–ª–∏—è–Ω–∏—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–æ –Ω–∏–∑–∫–∏–π –æ—Ö–≤–∞—Ç.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –í —ç—Ç–æ–º –±–ª–æ–∫–µ –±—ã–ª–∞ —Å–¥–µ–ª–∞–Ω–∞ —Ö–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ - –≥–∏–ø–æ—Ç–µ–∑—ã –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–æ–∞–Ω—ã –ø–æ –¥–≤—É–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º, —É–∫–∞–∑–∞–Ω–æ, –ø–æ –∫–∞–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º –æ–Ω–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è. –ö–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è - –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–≤—É—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, –∞ –≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É–∫–∞–∑–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã —Å—á–∏—Ç–∞–µ—à—å –Ω–∞–∏–±–æ–ª–µ–µ –≤—Å–µ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏. –≠—Ç–æ –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–µ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∑–∞–∫–∞–∑—á–∏–∫—É.
# </div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä<a class="tocSkip"> </h2>
#     
# –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –≥–∏–ø–æ—Ç–µ–∑ –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü, —á—Ç–æ –≤—ã–≤–æ–¥–∏—à—å —Ç–∞–±–ª–∏—Ü—É –¥–≤–∞–∂–¥—ã, –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ –æ–¥–Ω–æ–º—É –∏–∑ —Ñ—Ä–µ–π–º–æ–≤—Ä–∫–æ–≤, —Ç–∞–∫ —Ä–∞–∑–ª–∏—á–∏—è –≤ –∏—Ö —Ä–∞–±–æ—Ç–µ –±—É–¥—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –Ω–∞–≥–ª—è–¥–Ω—ã–º–∏. –°–æ–≥–ª–∞—Å–Ω–∞ —Å —Ç–≤–æ–∏–º–∏ –≤—ã–≤–æ–¥–∞–º–∏ –ø–æ –ø–æ–≤–æ–¥—É –∏—Ö —Ä–∞–∑–ª–∏—á–∏—è. –ë—É–¥–µ—Ç –∑–¥–æ—Ä–æ–≤–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ –Ω–µ–±–æ–ª—å—à–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—Ä–µ–º–≤–æ—Ä–∫–æ–≤. 
# </div>   

# ## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

# In[6]:


orders = pd.read_csv('/datasets/orders.csv')
visitors = pd.read_csv('/datasets/visitors.csv')


# In[7]:


# –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
orders.isna().sum()
visitors.isna().sum()

# –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
orders.duplicated().sum()
visitors.duplicated().sum()

# –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
orders['date'] = pd.to_datetime(orders['date'])
visitors['date'] = pd.to_datetime(visitors['date'])


# In[8]:


orders.head(10)


# In[9]:


visitors.head(10)


# In[10]:


hypothesis.info()


# In[11]:


groups = orders['group'].unique()
print('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø –≤ –ê/–í-—Ç–µ—Å—Ç–µ:', len(groups))


# In[12]:


# –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Ç–µ—Å—Ç–∞
print('–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∞:', orders['date'].min())
print('–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–µ—Å—Ç–∞:', orders['date'].max())


# In[13]:


visitors_by_group = visitors.groupby('group').agg({'visitors': 'sum'})
print(visitors_by_group)


# In[14]:


visitors_by_day = visitors.groupby(['date', 'group']).agg({'visitors': 'sum'}).reset_index()
display(visitors_by_day.head())


# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üìù –û–±—Ä–∞—Ç–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø—Ä–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –ê–í —Ç–µ—Å—Ç–æ–≤ –≤–∞–∂–Ω–æ –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å, —á—Ç–æ–±—ã –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –∫–∞–∫ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π, —Ç–∞–∫ –∏ –≤ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π –≥—Ä—É–ø–ø–∞—Ö —Ç–µ—Å—Ç–∞. –≠—Ç–æ –≤–∞–∂–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã –Ω–µ –∑–Ω–∞–µ–º, —á—Ç–æ –º–æ–≥–ª–æ –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
#     
# –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –º—ã –º–æ–∂–µ–º —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –Ω–æ–º–µ—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø. –≠—Ç–æ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
#     
# –í —ç—Ç–æ–º –∫–µ–π—Å–µ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –º—ã —Å–º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç–∞–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç–æ–ª—å–∫–æ –ø–æ –¥–∞–Ω–Ω—ã–º –ø–æ –ø–æ–∫—É–ø–∫–∞–º, —Ç–æ–≥–¥–∞ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –ø–æ –≤–∏–∑–∏—Ç–∞–º –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–Ω—è–º. –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å –∏—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - –ø—Ä–æ–≤–µ—Ä—è–µ—à—å –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
# 
# 
# </div>

# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
#         
# –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä: 
#     
# * –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∫–æ–ª—å–∫–æ —É –Ω–∞—Å –≥—Ä—É–ø–ø –≤ –ê–í-—Ç–µ—Å—Ç–µ;
# * –ò–∑—É—á–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª, —É–∑–Ω–∞–≤ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–µ—Å—Ç–∞;
# * –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ - –ø–æ —Ç–∞–±–ª–∏—Ü–µ —Å –∑–∞–∫–∞–∑–∞–º–∏;
# * –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –æ–±–µ –≥—Ä—É–ø–ø—ã - –ø–æ —Ç–∞–±–ª–∏—Ü–µ —Å –∑–∞–∫–∞–∑–∞–º–∏.
# * –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏–Ω–∞–º–∏–∫—É –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –ø–æ –¥–Ω—è–º –ø–æ –≥—Ä—É–ø–ø–∞–º (visitos).
# </div>

# <div class="alert alert-info"> <b>–î–æ–±–∞–≤–∏–ª –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ + –ø—Ä–æ–≤–µ–ª –¥–æ–ø –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è </b></div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_2 <a class="tocSkip"> </h2>
# 
# üëç

# In[15]:


datesGroups = orders[['date','group']].drop_duplicates()


# In[16]:


ordersAggregated = datesGroups.apply(lambda x: orders[np.logical_and(orders['date'] <= x['date'], orders['group'] == x['group'])]                                     .agg({'date' : 'max', 'group' : 'max', 'transactionId' : pd.Series.nunique, 'visitorId' : pd.Series.nunique, 'revenue' : 'sum'}), axis=1)                                     .sort_values(by=['date','group'])
visitorsAggregated = datesGroups.apply(lambda x: visitors[np.logical_and(visitors['date'] <= x['date'], visitors['group'] == x['group'])]                                        .agg({'date' : 'max', 'group' : 'max', 'visitors' : 'sum'}), axis=1)                                        .sort_values(by=['date','group'])


# In[17]:


cumulativeData = ordersAggregated.merge(visitorsAggregated, left_on=['date', 'group'], right_on=['date', 'group'])
cumulativeData.columns = ['date', 'group', 'orders', 'buyers', 'revenue', 'visitors']


# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
#         
# –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ –±—ã–ª —Å–æ–¥–∞–Ω –¥–∞—Ç–∞—Ñ—Ä–µ–π–º cummulativeData. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∞—Ç—ã –≤ —ç—Ç–æ–º –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–∞—Ç–æ–π –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. </div>   

# <div class="alert alert-info"> <b>–°–¥–µ–ª–∞–ª –ø—Ä–æ–≤–µ—Ä–∫—É, –≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ </b></div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_2 <a class="tocSkip"> </h2>
# 
# –û—Ç–ª–∏—á–Ω–æ)

# In[18]:


cumulativeRevenueA = cumulativeData[cumulativeData['group']=='A'][['date','revenue', 'orders']]


# In[19]:


cumulativeRevenueB = cumulativeData[cumulativeData['group']=='B'][['date','revenue', 'orders']]


# In[20]:


# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –¥–∞—Ç
print(orders['date'].min() == cumulativeData['date'].min())

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –¥–∞—Ç
print(orders['date'].max() == cumulativeData['date'].max())


# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∞—Ç—ã –≤ cummulativeData —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤ orders, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∂–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–∞ cummulativeData.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å –∏—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - –ø—Ä–æ–≤–µ—Ä—è–µ—à—å –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
# </div>

# ### –í—ã–≤–æ–¥—ã –ø–æ –¥–∞–Ω–Ω—ã–º

# –î–∞–Ω–Ω—ã–µ –≤ —Ü–µ–ª–æ–º –≤—ã–≥–ª—è–¥—è—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –û–¥–Ω–∞–∫–æ, –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ orders.csv –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤—ã–±—Ä–æ—Å—ã (–∑–∞–∫–∞–∑—ã —Å –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é), –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –¥–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–∞–º –≤ –æ–±–æ–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–∞—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç–∏–ø—É datetime –¥–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º–∏.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –µ—Å—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –≤—ã–≤–æ–¥—ã —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å –¥–∞–Ω–Ω—ã–º. –¢–æ–ª—å–∫–æ –Ω–µ–º–Ω–æ–≥–æ –Ω–µ—è—Å–Ω—ã–º –æ—Å—Ç–∞–ª—Å—è –≤–æ–ø—Ä–æ—Å —Å –≤—ã–±—Ä–æ—Å–∞–º–∏ - –≤ –≤—ã–≤–æ–¥–∞—Ö —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –æ–Ω–∏ —É–¥–∞–ª–µ–Ω—ã, –Ω–æ –≤—ã—à–µ, –≤ —Å–∞–º–æ–º –∫–æ–¥–µ, –Ω–∞ —ç—Ç–æ–º –Ω–µ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –∞–∫—Ü–µ–Ω—Ç–∞.
# 
# </div>

# ## –ì—Ä–∞—Ñ–∏–∫–∏

# In[21]:


cumulativeData['conversion'] = cumulativeData['orders'] / cumulativeData['visitors']

cumulativeConversionA = cumulativeData[cumulativeData['group']=='A'][['date','conversion']].reset_index(drop=True)
cumulativeConversionA['cumulativeConversion'] = cumulativeConversionA['conversion'].cumsum()
cumulativeConversionB = cumulativeData[cumulativeData['group']=='B'][['date','conversion']].reset_index(drop=True)
cumulativeConversionB['cumulativeConversion'] = cumulativeConversionB['conversion'].cumsum()


# In[22]:


# –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º
plt.figure(figsize=(12,5))
plt.plot(cumulativeConversionA['date'], cumulativeConversionA['cumulativeConversion'], label='A')
plt.plot(cumulativeConversionB['date'], cumulativeConversionB['cumulativeConversion'], label='B')
plt.title('–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ –≥—Ä—É–ø–ø–∞–º')
plt.xlabel('–î–∞—Ç–∞')
plt.ylabel('–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è')
plt.legend()
plt.show()


# –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º –≤–∏–¥–Ω–æ, —á—Ç–æ –≥—Ä—É–ø–ø–∞ B –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —á–µ–º –≥—Ä—É–ø–ø–∞ A. –í –Ω–∞—á–∞–ª–µ —Ç–µ—Å—Ç–∞ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≥—Ä—É–ø–ø—ã B –±—ã–ª–∞ –Ω–∏–∂–µ, —á–µ–º —É –≥—Ä—É–ø–ø—ã A, –Ω–æ –∑–∞—Ç–µ–º –æ–Ω–∞ –Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏—é –≥—Ä—É–ø–ø—ã A.

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î<a class="tocSkip"></h2>
#     <s>
# –°–µ–π—á–∞—Å –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –≥—Ä–∞—Ñ–∏–∫–∞ –º—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ–º, —á—Ç–æ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –≤–∏–¥–µ–Ω —Ä–æ—Å—Ç –≤—ã—Ä—É—á–∫–∏. –ï—Å–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, —Ç–æ –≤—ã—Ä—É—á–∫–∞ = –∫–æ–Ω–≤–µ—Ä—Å–∏—è * —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫. –ï—Å–ª–∏ –≤—ã—Ä—É—á–∫–∞ –≤—ã—Ä–æ—Å–ª–∞, —Ç–æ –º–æ–≥ —É–≤–µ–ª–∏—á–∏—Ç—Å—è —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, –∞ –º–æ–≥–ª–æ —É–≤–µ–ª–∏—á–∏—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ (—Ç.–µ. –∫–æ–Ω–≤–µ—Ä—Å–∏—è).
# 
# –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ  –¥–∞—Ç—å –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω —Ç–∞–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞. –ï—Å–ª–∏ –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É —Å–∫–∞—á–∫–∞, –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ –º—ã –Ω–µ –≤–ø–æ–ª–Ω–µ –ø–æ–Ω–∏–º–∞–µ–º –≤—Å—é –∫–∞—Ä—Ç–∏–Ω—É.
# 
# 

# <div class="alert alert-info"> <b>–î–æ–±–∞–≤–∏–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≥—Ä–∞—Ñ–∏–∫ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ </b></div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_2 <a class="tocSkip"> </h2>
# 
# –û—Ç–ª–∏—á–Ω–æ)

# In[23]:


plt.figure(figsize=(12,5))
plt.plot(cumulativeRevenueA['date'], cumulativeRevenueA['revenue'], label='A')
plt.plot(cumulativeRevenueB['date'], cumulativeRevenueB['revenue'], label='B')
plt.title('–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤—ã—Ä—É—á–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º')
plt.xlabel('–î–∞—Ç–∞')
plt.ylabel('–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤—ã—Ä—É—á–∫–∞')
plt.legend()
plt.show()


# –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –≤—ã—Ä—É—á–∫–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º –≤–∏–¥–Ω–æ, —á—Ç–æ –≥—Ä—É–ø–ø–∞ B –æ–ø–µ—Ä–µ–∂–∞–µ—Ç –≥—Ä—É–ø–ø—É A –ø–æ –≤—ã—Ä—É—á–∫–µ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏ —Ç–µ—Å—Ç–∞. –í —Å–µ—Ä–µ–¥–∏–Ω–µ —Ç–µ—Å—Ç–∞ –ø—Ä–æ–∏–∑–æ—à–µ–ª —Ä–µ–∑–∫–∏–π —Å–∫–∞—á–æ–∫ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –≤—ã—Ä—É—á–∫–∏ –≥—Ä—É–ø–ø—ã B, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –∫—Ä—É–ø–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞. –ù–∞ –∫–æ–Ω–µ—Ü —Ç–µ—Å—Ç–∞ –≥—Ä—É–ø–ø–∞ B –æ–∫–∞–∑–∞–ª–∞—Å—å –ª–∏–¥–µ—Ä–æ–º –ø–æ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –≤—ã—Ä—É—á–∫–µ.

# In[24]:


plt.figure(figsize=(12,5))
plt.plot(cumulativeRevenueA['date'], cumulativeRevenueA['revenue']/cumulativeRevenueA['orders'], label='A')
plt.plot(cumulativeRevenueB['date'], cumulativeRevenueB['revenue']/cumulativeRevenueB['orders'], label='B')
plt.title('–ö—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –ø–æ –≥—Ä—É–ø–ø–∞–º')


# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üìù –ù–µ –∑–∞–±—ã–≤–∞–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ - —Å–µ–π—á–∞—Å –Ω–µ—Ç –ø–æ–¥–ø–∏—Å–∏ –ø–æ –æ—Å–∏ Y. –ö–æ–Ω–µ—á–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∞–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ, –Ω–æ –≤—Å–µ –∂–µ. –¢–∞–∫–∂–µ –ª—É—á—à–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Ä—É–±, –Ω–∞–ø—Ä–∏–º–µ—Ä).
#     
# –ö—Å—Ç–∞—Ç–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –≤—ã–≤–æ–¥ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ç–∏–ø–∞ `Text(0.5, 1.0, '–ö—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –ø–æ –≥—Ä—É–ø–ø–∞–º')` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `plt.show()`.
# 
# 
# </div>

# –ì—Ä–∞—Ñ–∏–∫ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏–ª—å–Ω—É—é –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –æ–±–µ–∏—Ö –≥—Ä—É–ø–ø –≤ –Ω–∞—á–∞–ª–µ —Ç–µ—Å—Ç–∞. –ó–∞—Ç–µ–º —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≥—Ä—É–ø–ø—ã A —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –∏ –æ—Å—Ç–∞–≤–∞–ª—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ, —Ç–æ–≥–¥–∞ –∫–∞–∫ –≥—Ä—É–ø–ø–∞ B —Ç–∞–∫–∂–µ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å –ø–æ—Å–ª–µ —Ä–µ–∑–∫–æ–≥–æ —Å–∫–∞—á–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ç–µ—Å—Ç–∞. –ì—Ä—É–ø–ø–∞ B –Ω–∞ –∫–æ–Ω–µ—Ü —Ç–µ—Å—Ç–∞ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —ç—Ç–æ–º—É –ø–æ–∫–∞–∑–∞—Ç–µ–ª—é –º–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã, —á–µ–º –ø–æ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –≤—ã—Ä—É—á–∫–µ.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –í—Å–µ –≤–µ—Ä–Ω–æ! –í –≥—Ä—É–ø–ø–µ –í –º–æ–∂–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–æ—Å—ã –≤ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
# 
# </div>

# In[25]:


# –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –≥—Ä—É–ø–ø–∞–º —Ç–µ—Å—Ç–∞ A –∏ B
cumulative_revenue_a = cumulativeData[cumulativeData['group'] == 'A'][['date', 'revenue', 'orders']]
cumulative_revenue_b = cumulativeData[cumulativeData['group'] == 'B'][['date', 'revenue', 'orders']]

# —Å–æ–µ–¥–∏–Ω–∏–º —Ç–∞–±–ª–∏—Ü—ã cumulative_revenue_a –∏ cumulative_revenue_b –ø–æ —Å—Ç–æ–ª–±—Ü—É 'date'
merged_cumulative_revenue = cumulative_revenue_a.merge(cumulative_revenue_b, on='date', suffixes=['_a', '_b'])


# In[26]:


# –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–æ–≤ —Å –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º A –∏ B
mergedCumulativeRevenue = cumulativeRevenueA.merge(cumulativeRevenueB, left_on='date', right_on='date', how='left', suffixes=['A', 'B'])

# –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ –≥—Ä—É–ø–ø—ã B –∫ –≥—Ä—É–ø–ø–µ A
plt.figure(figsize=(12,5))
plt.plot(mergedCumulativeRevenue['date'], (mergedCumulativeRevenue['revenueB']/mergedCumulativeRevenue['ordersB'])/(mergedCumulativeRevenue['revenueA']/mergedCumulativeRevenue['ordersA'])-1)
plt.axhline(y=0, color='black', linestyle='--')
plt.title('–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ –≥—Ä—É–ø–ø—ã B –∫ –≥—Ä—É–ø–ø–µ A')
plt.xlabel('–î–∞—Ç–∞')
plt.ylabel('–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ')
plt.show()


# In[27]:


# —Ä–∞—Å—Å—á–µ—Ç –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –ø–æ –≥—Ä—É–ø–ø–∞–º
cumulativeData['order_per_visitor'] = cumulativeData['orders'] / cumulativeData['visitors']

cumulativeDataA = cumulativeData[cumulativeData['group'] == 'A']
cumulativeDataB = cumulativeData[cumulativeData['group'] == 'B']

plt.figure(figsize=(12,5))
plt.plot(cumulativeDataA['date'], cumulativeDataA['order_per_visitor'], label='A')
plt.plot(cumulativeDataB['date'], cumulativeDataB['order_per_visitor'], label='B')
plt.title('–ö—É–º—É–ª—è—Ç–∏–≤–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–µ—Ç–∏–ª—è')


# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üìù –ù–µ –∑–∞–±—ã–≤–∞–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ - –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ–ø–∏—Å–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –≤–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ —Ü–µ–ª–æ–º –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤–æ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ —Ç–µ—Å—Ç–∞.
# 
# 
# </div>

# In[28]:


# –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≥—Ä—É–ø–ø–∞–º A –∏ B
cumulativeDataA = cumulativeData[cumulativeData['group']=='A'][['date','visitors']]
cumulativeDataA = cumulativeDataA.merge(cumulativeRevenueA, on='date')
cumulativeDataA['orders_per_visitor'] = cumulativeDataA['orders'] / cumulativeDataA['visitors']

cumulativeDataB = cumulativeData[cumulativeData['group']=='B'][['date','visitors']]
cumulativeDataB = cumulativeDataB.merge(cumulativeRevenueB, on='date')
cumulativeDataB['orders_per_visitor'] = cumulativeDataB['orders'] / cumulativeDataB['visitors']

# –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≥—Ä—É–ø–ø—ã B –∫ –≥—Ä—É–ø–ø–µ A
mergedCumulativeData = cumulativeDataA.merge(cumulativeDataB, on='date', suffixes=['A', 'B'])
mergedCumulativeData['ratio'] = mergedCumulativeData['orders_per_visitorB'] / mergedCumulativeData['orders_per_visitorA']

# –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≥—Ä—É–ø–ø—ã B –∫ –≥—Ä—É–ø–ø–µ A
plt.figure(figsize=(12,5))
plt.plot(mergedCumulativeData['date'], mergedCumulativeData['ratio'])
plt.axhline(y=1, color='black', linestyle='--')
plt.title('–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≥—Ä—É–ø–ø—ã B –∫ –≥—Ä—É–ø–ø–µ A')
plt.xlabel('–î–∞—Ç–∞')
plt.ylabel('–û—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≥—Ä—É–ø–ø—ã B –∫ –≥—Ä—É–ø–ø–µ A')
plt.show()


# –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≥—Ä—É–ø–ø—ã B –∫ –≥—Ä—É–ø–ø–µ A –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–µ B —Å–Ω–∞—á–∞–ª–∞ –±—ã–ª–æ –Ω–∏–∂–µ, —á–µ–º –≤ –≥—Ä—É–ø–ø–µ A, –Ω–æ –∑–∞—Ç–µ–º —Ä–µ–∑–∫–æ –≤—ã—Ä–æ—Å–ª–æ –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ 1.0-1.2 –Ω–∞—á–∞–ª–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Ç–º–µ—Ç–∫–µ –ø—Ä–∏–º–µ—Ä–Ω–æ 1.1. –≠—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–∞–∫–∏—Ö-—Ç–æ –∑–Ω–∞—á–∏–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω, —Å–∫–∏–¥–æ–∫ –∏–ª–∏ –∞–∫—Ü–∏–π, –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞ —Å–∞–π—Ç–∞, —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∏ —Ç.–¥

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –í —ç—Ç–æ–º –±–ª–æ–∫–µ –±—ã–ª–∞ –ø—Ä–æ–¥–µ–ª–∞–Ω–∞ —Ö–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ —Å–±–æ—Ä—É –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–±–æ—Ç–µ —Å –Ω–∏–º–∏, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–æ –Ω–µ –∑–∞–±—ã–≤–∞–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤) –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –ë—ã–ª–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≥—Ä—É–ø–ø—ã –í –æ—Ç –≤—ã–±—Ä–æ—Å–æ–≤.
# 
# 
# </div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä<a class="tocSkip"> </h2>
# 
# –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤–µ—Ä–Ω–æ, –º–æ–ª–æ–¥–µ—Ü)
# </div>

# In[29]:


# –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
ordersByUsers = orders.groupby('visitorId', as_index=False).agg({'transactionId' : pd.Series.nunique})
ordersByUsers.columns = ['userId','orders']

# –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–æ—á–µ—á–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
x_values = pd.Series(range(0,len(ordersByUsers)))
plt.figure(figsize=(8,6))
plt.scatter(x_values, ordersByUsers['orders'])
plt.title('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º')
plt.xlabel('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏')
plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤')
plt.show()


# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –ú–æ–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ —É–ª—É—á—à–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫—É - –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–º —Ü–≤–µ—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≥—Ä—É–ø–ø –ê –∏ –í - —Ç–æ–≥–¥–∞ –º—ã —Å–º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø—ã –∏–ª–∏ –¥–ª—è –¥–≤—É—Ö. 
#     
# https://moonbooks.org/Articles/How-to-create-a-scatter-plot-with-several-colors-in-matplotlib-/    
#     
# </div>

# –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–¥–µ–ª–∞–ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–∫–∞–∑, –Ω–æ –µ—Å—Ç—å –∏ —Ç–µ, –∫—Ç–æ —Å–¥–µ–ª–∞–ª –¥–æ 5 –∑–∞–∫–∞–∑–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤—ã–±—Ä–æ—Å—ã –¥–æ 11 –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–∫–∞–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

# In[30]:


ordersPerUser = orders.groupby('visitorId', as_index=False).agg({'transactionId' : pd.Series.nunique})
ordersPerUser.columns = ['visitorId','orders']


# In[31]:


plt.hist(ordersPerUser['orders'])
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
plt.xlabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
plt.ylabel('–ß–∞—Å—Ç–æ—Ç–∞')
plt.show()


# ## –†–∞—Å—á–µ—Ç –ø–µ—Ü–µ–Ω—Ç–∏–ª–µ–π

# In[32]:


print(np.percentile(ordersPerUser['orders'], [95, 99]))


# –ù–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—á–µ—Ç–∞ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–µ–π –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ:
# 
# 95% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–¥–µ–ª–∞–ª–∏ –Ω–µ –±–æ–ª–µ–µ 2 –∑–∞–∫–∞–∑–æ–≤;
# 99% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–¥–µ–ª–∞–ª–∏ –Ω–µ –±–æ–ª–µ–µ 4 –∑–∞–∫–∞–∑–æ–≤.

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –≤ –≥—Ä—É–ø–ø–∞—Ö A –∏ B –±—ã–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã:
# 
# –°—Ä–µ–¥–Ω–∏–π —á–µ–∫: –±–æ–ª–µ–µ 28 000 —Ä—É–±–ª–µ–π –≤ –≥—Ä—É–ø–ø–µ A –∏ –±–æ–ª–µ–µ 36 000 —Ä—É–±–ª–µ–π –≤ –≥—Ä—É–ø–ø–µ B;
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤: –±–æ–ª–µ–µ 3 –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
# –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–µ–≤—ã—à–∞–ª–æ –≥—Ä–∞–Ω–∏—Ü—É, —Ç–æ —ç—Ç–æ —Å—á–∏—Ç–∞–ª–æ—Å—å –∞–Ω–æ–º–∞–ª—å–Ω—ã–º.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –õ—É—á—à–µ –¥–ª—è –≥—Ä—É–ø–ø—ã –ê –∏ –í –ø—Ä–∏ —Ç–µ—Å—Ç–∞—Ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π –ø–æ—Ä–æ–≥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã–±—Ä–æ—Å–æ–≤.
# </div>

# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
# –†–∞—Å—á–µ—Ç—ã –≤–µ—Ä–Ω—ã–µ, –∞ –≤–æ—Ç –ø–æ –≤—ã–≤–æ–¥–∞–º —Ç–∞–∫ –∏ –Ω–µ —è—Å–Ω–æ, —á—Ç–æ –∂–µ –º—ã –±—É–¥–µ–º –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞ –∞–Ω–æ–º–∞–ª–∏–∏. –ú–æ–∂–µ—à—å –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∏ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏–Ω—è—Ç—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –∞–Ω–æ–º–∞–ª–∏–π.
# </div>

# In[33]:


#—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–∞–∂–¥–æ–º –∑–∞–∫–∞–∑–µ –∏ –µ–≥–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
orderPrices = orders[['transactionId', 'revenue']]


# In[34]:


# –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–æ—á–µ—á–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–µ–π –∑–∞–∫–∞–∑–æ–≤
plt.figure(figsize=(12,5))
plt.scatter(range(0,len(orderPrices)), orderPrices['revenue'])
plt.title('–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–æ–≤')
plt.xlabel('‚Ññ –∑–∞–∫–∞–∑–∞')
plt.ylabel('–°—Ç–æ–∏–º–æ—Å—Ç—å')
plt.show()


# –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –∏–º–µ—é—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ 20 000 —É.–µ.
# –û–¥–Ω–∞–∫–æ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ —Å–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –≤—ã–±—Ä–æ—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –±–æ–ª–µ–µ 100 000 —É.–µ.)

# In[35]:


# —Ä–∞—Å—á–µ—Ç 95-–≥–æ –∏ 99-–≥–æ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–æ–≤
percentiles = np.percentile(orders['revenue'], [95, 99])
print('95-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–æ–≤:', percentiles[0].round(2))
print('99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–æ–≤:', percentiles[1].round(2))

# –≤—ã–±–æ—Ä –≥—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
boundary = percentiles[1] # –≤—ã–±–∏—Ä–∞–µ–º 99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≥—Ä–∞–Ω–∏—Ü—ã
print('–ì—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤:', boundary.round(2))


# –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≥—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –±—É–¥–µ—Ç  58233.2 —Ä—É–±–ª–µ–π, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 99-–º—É –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—é —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–æ–≤.

# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
# 
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 95% –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –¥–ª—è –æ—Ç—Å–µ—á–µ–Ω–∏—è –≤—ã–±—Ä–æ—Å–æ–≤ - –≤–æ–∑–º–æ–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç. –ù–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 99% –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å. –ú—ã —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –¥–≤—É–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º. –ê –∑–Ω–∞—á–∏—Ç –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –æ—Ç—Å–µ—á–µ–Ω–∏–∏ 5%, –º—ã –æ—Ç–±—Ä–æ—Å–∏–º –±–æ–ª—å—à–µ 5%, –∞ —ç—Ç–æ –Ω–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ.

# <div class="alert alert-info"> <b> –ë—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 99-—ã–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å</b></div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –í —ç—Ç–æ–º –±–ª–æ–∫–µ —Ç–æ–∂–µ –≤—Å–µ –ø–æ –¥–µ–ª—É - –≤—ã–±—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∫–∞–∫ —ç—Ç–æ –±—ã–ª–æ –≤—ã—à–µ –≤–∏–¥–Ω–æ –ø–æ –≥—Ä–∞—Ñ–∏–∫–∞–º) –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ì—Ä–∞–Ω–∏—Ü—ã –≤—ã–±—Ä–æ—Å–æ–≤ —Ç–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é 99 –ø–µ—Ä—Å–µ–Ω—Ç–∏–ª—è.
# </div>

# ## –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ

# –î–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –∑–∞–∫–∞–∑–∞ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ "—Å—ã—Ä—ã–º" –¥–∞–Ω–Ω—ã–º –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –Ω–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–º —Ç–µ—Å—Ç–æ–º –ú–∞–Ω–Ω–∞-–£–∏—Ç–Ω–∏, —Ç–∞–∫ –∫–∞–∫ –≤—ã–±–æ—Ä–∫–∏ –Ω–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –∏–º–µ—é—Ç –≤—ã–±—Ä–æ—Å—ã.
# 
# –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –Ω–µ—Ç. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö –ê –∏ –í —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –ì–∏–ø–æ—Ç–µ–∑—ã –≤ —ç—Ç–æ–º –±–ª–æ–∫–µ –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ –≤ —Ç–µ—Å—Ç–µ –ú–∞–Ω–Ω–∞-–£–∏—Ç–Ω–∏ –ø–æ —Ñ–∞–∫—Ç—É –º—ã —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –∞ –≤–æ—Ç t-—Ç–µ—Å—Ç –∏–ª–∏ z-—Ç–µ—Å—Ç –±—É–¥—É—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.
# </div>

# In[36]:


orders_by_users_a = (
    orders[orders['group'] == 'A']
    .groupby('visitorId', as_index=False)
    .agg({'transactionId': pd.Series.sum})
)
orders_by_users_a.columns = ['visitor_id', 'orders']

orders_by_users_b = (
    orders[orders['group'] == 'B']
    .groupby('visitorId', as_index=False)
    .agg({'transactionId': pd.Series.sum})
)
orders_by_users_b.columns = ['visitorId', 'orders']


# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_7 <a class="tocSkip"></h2>
# <s>
# –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö orders_by_users_a  –∏ orders_by_users_b, –∑–∞—á–µ–º –º—ã –ø–æ–º–µ–Ω—è–ª–∏ –Ω–∞ —Å—É–º–º—É? 

# In[37]:


visitors_per_group = visitors.groupby('group')['visitors'].sum()


# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_6 <a class="tocSkip"></h2>
# <s>
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –°–£–ú–ú–ê –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –ø–æ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ, –∞ –Ω–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∫–æ–ª-–≤–æ. –ö—É—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã–ª –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å, —á—Ç–æ –¥–∞–µ—Ç—Å—è 6 –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ —Ä–µ–≤—å—é. 

# In[38]:


# –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ sampleA –∏ sampleB —á–µ—Ä–µ–∑ pd.concat –∏ —É—á–µ—Ç 0 –∑–∞–∫–∞–∑–æ–≤ –ø–æ –≤—Å–µ–º –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º    
sampleA = pd.concat([orders_by_users_a['orders'], pd.Series(0, index=np.arange(visitors_per_group['A'] - len(orders_by_users_a['orders'])), name='orders')], axis=0)
sampleB = pd.concat([orders_by_users_b['orders'], pd.Series(0, index=np.arange(visitors_per_group['B'] - len(orders_by_users_b['orders'])), name='orders')], axis=0)

# —Ä–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
mean_orders_a = sampleA.mean()
mean_orders_b = sampleB.mean()

# —Ä–∞—Å—á–µ—Ç p-–∑–Ω–∞—á–µ–Ω–∏—è
p_value = stats.mannwhitneyu(sampleA, sampleB, alternative='two-sided')[1]

print('p-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ "—Å—ã—Ä—ã–º" –¥–∞–Ω–Ω—ã–º: {:.3f}'.format(p_value))

if p_value < 0.05:
    print('–û—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö –ê –∏ –í —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è.')
else:
    print('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –Ω–µ—Ç.')
print('–†–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏: {:.1%}'.format(mean_orders_b / mean_orders_a - 1))


# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –•–æ—Ä–æ—à–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –≤—ã–≤–æ–¥—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞.
# 
# 
# </div>

# P-–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ–µ 0.017 –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ê –∏ –í —Ä–∞–≤–Ω–æ–π –∏–ª–∏ –±–æ–ª–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–Ω–æ–π, —á–µ–º —Ç–µ, —á—Ç–æ –º—ã –Ω–∞–±–ª—é–¥–∞–µ–º, —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 1.7%. –û–±—ã—á–Ω–æ, –ø—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ 5%, —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–º, –∏ –º—ã –º–æ–∂–µ–º –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É –æ —Ç–æ–º, —á—Ç–æ —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö –ê –∏ –í —Ä–∞–≤–Ω—ã.
# 
# –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ –µ—Å—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ê –∏ –í, –ø—Ä–∏—á–µ–º —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–π –∏–∑ –≥—Ä—É–ø–ø –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –¥—Ä—É–≥–æ–π –≥—Ä—É–ø–ø–µ. 

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–µ—Ä–Ω—ã–µ.
# </div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î<a class="tocSkip"></h2>
#     <s>
# –†–∞—Å—á–µ—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω –Ω–µ–≤–µ—Ä–Ω–æ, –ø—Ä–æ—à—É –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º –∫—É—Ä—Å–∞ –∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã –∑–¥–µ—Å—å –∏ –Ω–∏–∂–µ, –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–≤–æ–¥—ã. –¢–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö.

# <div class="alert alert-info"> <b>–ò—Å–ø—Ä–∞–≤–∏–ª –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ —Å—Ä–µ–¥–Ω–µ–º–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤ –∏ –¥–æ–±–∞–≤–∏–ª —Ä–∞—Å—á–µ—Ç –ø–æ —Å—Ä–µ–¥–Ω–∏–º —á–µ–∫–∞–º –ø–æ —Å—ã—Ä—ã–º –¥–∞–Ω–Ω—ã–º</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_2 <a class="tocSkip"> </h2>
# <s>
# –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ä–∞—Å—á–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π, –Ω–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ –ø—Ä–æ—Å—Ç–æ ordersByGroupA , –∞ –¥–æ–±–∞–≤–∏—Ç—å 0 –∑–∞–∫–∞–∑–æ–≤ –≤—Å–µ–º –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∫—É–ø–∏–ª–∏, —Å–æ–∑–¥–∞–≤ –ø—Ä–∏ —ç—Ç–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ sampleA –∏ sampleB. –î–∞–≤–∞–π —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –∑–¥–µ—Å—å –∏ –Ω–∏–∂–µ –∏ –æ–±–Ω–æ–≤–∏–º –≤—ã–≤–æ–¥—ã

# <div class="alert alert-info"> <b>–ò—Å–ø—Ä–∞–≤–∏–ª –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ —Å—Ä–µ–¥–Ω–µ–º–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤, –¥–æ–±–∞–≤–∏–ª sampleA –∏ sampleB</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_3 <a class="tocSkip"> </h2>
# <s>
# –î–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö. –ü—Ä–æ—à—É –∏–∑—É—á–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã —É—Ä–æ–∫–∞ –∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å. –†–∞–∑–ª–∏—á–∏–µ –≤  —Å—Ä–µ–¥–Ω–∏—Ö —Ä–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–≤—É—Ö —Å—Ä–µ–¥–Ω–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å –≤—ã—á–µ—Ç–æ–º 1. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–∫–∞–∑–∞—Ç–µ–ª—é. –•–æ—á—É –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –µ—Å–ª–∏ –º—ã –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º —Ä–∞—Å—á–µ—Ç –ø–æ —Å—ã—Ä—ã–º –¥–∞–Ω–Ω—ã–º, —Ç–æ –ø–æ –û–ß–ò–©–ï–ù–ù–´–ú –¥–∞–Ω–Ω—ã–º –Ω–∞–º —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã, –≤–µ–¥—å –æ–Ω–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–µ–≤–µ—Ä–Ω–æ. 

# <div class="alert alert-info"> <b>–ò—Å–ø—Ä–∞–≤–∏–ª –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ —Å—Ä–µ–¥–Ω–µ–º–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_4 <a class="tocSkip"> </h2>
# <s>
# –ê –≥–¥–µ 0 –∑–∞–∫–∞–∑–æ–≤ –≤—Å–µ–º –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∫—É–ø–∏–ª–∏?

# <div class="alert alert-info"> <b>–î–æ–±–∞–≤–∏–ª —á–µ—Ä–µ–∑ reindex(visitors, fill_value=0)</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_5 <a class="tocSkip"> </h2>
# <s>
# p_value –≤ 1 –Ω–∞—Å –Ω–µ —Å–º—É—â–∞–µ—Ç? –£ –Ω–∞—Å –æ—Å—Ç–∞–ª–∞—Å—å –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≤—å—é.  –ü–æ —É—á–µ–±–Ω–æ–º—É –º–∞—Ç–µ—Ä–∏–∞–ª—É –Ω–∞–º –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É–º–º—É –≤–∏–∑–∏—Ç–æ–≤ –ø–æ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π sampleA, –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –µ–µ —á–µ—Ä–µ–∑ pd.concat(). 

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_8 <a class="tocSkip"> </h2>
# 
# –í–æ—Ç —ç—Ç–æ—Ç —Ä–∞—Å—á–µ—Ç –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É –≤–µ—Ä–Ω—ã–π, –ø–æ —Å—ã—Ä—ã–º –¥–∞–Ω–Ω—ã–º. –ö–æ—Ç–æ—Ä—ã–π –Ω–∏–∂–µ –¥–æ –∑–µ–ª–µ–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.

# –ù—É–ª–µ–≤–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞ –Ω–µ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B.
# 
# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B.

# In[39]:


p_value1=stats.mannwhitneyu(orders[orders['group']=='A']['revenue'], orders[orders['group']=='B']['revenue'])[1]

print('p-value: {0:.3f}'.format(p_value1))

if p_value1 < 0.05:
    print('–û—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: —Å—Ä–µ–¥–Ω–Ω–∏–π —á–µ–∫ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö –ê –∏ –í —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è.')
else:
    print(
        '–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –Ω–µ—Ç.') 
print('–†–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏: {:.1%}'.format(orders[orders['group']=='B']['revenue'].mean()/orders[orders['group']=='A']['revenue'].mean()-1)) 


# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_8 <a class="tocSkip"> </h2>
# 
# –í–æ—Ç —ç—Ç–æ—Ç —Ä–∞—Å—á–µ—Ç –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É –≤–µ—Ä–Ω—ã–π, –ø–æ —Å—ã—Ä—ã–º –¥–∞–Ω–Ω—ã–º.

# –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ p-value —Ä–∞–≤–Ω–æ 0.729. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–∫–æ–µ –∂–µ –∏–ª–∏ –±–æ–ª–µ–µ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ —Å–ª—É—á–∞–π–Ω–æ —Ä–∞–≤–Ω–∞ 0.729. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã—Ö —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏.
# 
# –ù—É–ª–µ–≤–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞ –Ω–µ –±—ã–ª–∞ –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç–∞, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –Ω–µ—Ç.
# 
# –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 25.9%. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º, –Ω–æ, —É—á–∏—Ç—ã–≤–∞—è –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ p-value, –º—ã –Ω–µ –º–æ–∂–µ–º —Å—á–∏—Ç–∞—Ç—å —ç—Ç—É —Ä–∞–∑–Ω–∏—Ü—É —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ–π.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –¢—É—Ç —Ç–æ–∂–µ –≤—Å–µ —Ö–æ—Ä–æ—à–æ - –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –º—ã –Ω–∞–±–ª—é–¥–∞–µ–º —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏, –æ–Ω–∏ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.
# </div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§îv_8 <a class="tocSkip"></h2>
# 
# –í—ã–≤–æ–¥ –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤, –∞ —Ä–∞—Å–µ—á—Ç –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É

# <div class="alert alert-info"> <b> –ò–∑–º–µ–Ω–∏–ª –≤—ã–≤–æ–¥, –ø–æ–º–µ–Ω—è–ª –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_2 <a class="tocSkip"> </h2>
# <s>
# –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–∏—Ö

# <div class="alert alert-info"> <b> –î–æ–±–∞–≤–∏–ª —Ä–∞–∑–ª–∏—á–∏–µ</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_3  <a class="tocSkip"> </h2>
# <s>
# –†–∞—Å—á–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π.

# <div class="alert alert-info"> <b> –î–æ–±–∞–≤–∏–ª —Ä–∞—Å—á–µ—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é diff</b></div>

# ## –û—á–∏—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

# In[40]:


visitorsADaily = visitors[visitors['group'] == 'A'][['date', 'visitors']]
visitorsADaily.columns = ['date', 'visitorsPerDateA']

visitorsACummulative = visitorsADaily.apply(
    lambda x: visitorsADaily[visitorsADaily['date'] <= x['date']].agg(
        {'date': 'max', 'visitorsPerDateA': 'sum'}
    ),
    axis=1,
)
visitorsACummulative.columns = ['date', 'visitorsCummulativeA']

visitorsBDaily = visitors[visitors['group'] == 'B'][['date', 'visitors']]
visitorsBDaily.columns = ['date', 'visitorsPerDateB']

visitorsBCummulative = visitorsBDaily.apply(
    lambda x: visitorsBDaily[visitorsBDaily['date'] <= x['date']].agg(
        {'date': 'max', 'visitorsPerDateB': 'sum'}
    ),
    axis=1,
)
visitorsBCummulative.columns = ['date', 'visitorsCummulativeB']

ordersADaily = (
    orders[orders['group'] == 'A'][['date', 'transactionId', 'visitorId', 'revenue']]
    .groupby('date', as_index=False)
    .agg({'transactionId': pd.Series.nunique, 'revenue': 'sum'})
)
ordersADaily.columns = ['date', 'ordersPerDateA', 'revenuePerDateA']

ordersACummulative = ordersADaily.apply(
    lambda x: ordersADaily[ordersADaily['date'] <= x['date']].agg(
        {'date': 'max', 'ordersPerDateA': 'sum', 'revenuePerDateA': 'sum'}
    ),
    axis=1,
).sort_values(by=['date'])
ordersACummulative.columns = [
    'date',
    'ordersCummulativeA',
    'revenueCummulativeA',
]

ordersBDaily = (
    orders[orders['group'] == 'B'][['date', 'transactionId', 'visitorId', 'revenue']]
    .groupby('date', as_index=False)
    .agg({'transactionId': pd.Series.nunique, 'revenue': 'sum'})
)
ordersBDaily.columns = ['date', 'ordersPerDateB', 'revenuePerDateB']

ordersBCummulative = ordersBDaily.apply(
    lambda x: ordersBDaily[ordersBDaily['date'] <= x['date']].agg(
        {'date': 'max', 'ordersPerDateB': 'sum', 'revenuePerDateB': 'sum'}
    ),
    axis=1,
).sort_values(by=['date'])
ordersBCummulative.columns = [
    'date',
    'ordersCummulativeB',
    'revenueCummulativeB',
]

data = (
    ordersADaily.merge(
        ordersBDaily, left_on='date', right_on='date', how='left'
    )
    .merge(ordersACummulative, left_on='date', right_on='date', how='left')
    .merge(ordersBCummulative, left_on='date', right_on='date', how='left')
    .merge(visitorsADaily, left_on='date', right_on='date', how='left')
    .merge(visitorsBDaily, left_on='date', right_on='date', how='left')
    .merge(visitorsACummulative, left_on='date', right_on='date', how='left')
    .merge(visitorsBCummulative, left_on='date', right_on='date', how='left')
)


# –ù—É–ª–µ–≤–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ–∫–∞ –Ω–µ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B.
# 
# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B.

# In[41]:


ordersByUsersA = (
    orders[orders['group'] == 'A']
    .groupby('visitorId', as_index=False)
    .agg({'transactionId': pd.Series.nunique})
)
ordersByUsersA.columns = ['visitorId', 'orders']

ordersByUsersB = (
    orders[orders['group'] == 'B']
    .groupby('visitorId', as_index=False)
    .agg({'transactionId': pd.Series.nunique})
)
ordersByUsersB.columns = ['visitorId', 'orders']

sampleA = pd.concat(
    [
        ordersByUsersA['orders'],
        pd.Series(
            0,
            index=np.arange(
                data['visitorsPerDateA'].sum() - len(ordersByUsersA['orders'])
            ),
            name='orders',
        ),
    ],
    axis=0,
)

sampleB = pd.concat(
    [
        ordersByUsersB['orders'],
        pd.Series(
            0,
            index=np.arange(
                data['visitorsPerDateB'].sum() - len(ordersByUsersB['orders'])
            ),
            name='orders',
        ),
    ],
    axis=0,
)

alpha = .05

p_value=stats.mannwhitneyu(sampleA, sampleB)[1]

print("p-value: {0:.3f}".format(p_value))

if p_value < alpha:
    print('–û—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –µ—Å—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –∑–∞–∫–∞–∑–∞ –ø–æ "–æ—á–∏—â–µ–Ω–Ω—ã–º" –¥–∞–Ω–Ω—ã–º.')
else:
    print(
        '–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –Ω–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã—Ö —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –∑–∞–∫–∞–∑–∞ –ø–æ "–æ—á–∏—â–µ–Ω–Ω—ã–º" –¥–∞–Ω–Ω—ã–º.'
    ) 
print("–†–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –∑–∞–∫–∞–∑–∞: {:.1%}".format(sampleB.mean() / sampleA.mean() - 1))


# –ò—Å–ø–æ–ª—å–∑—É—è U-–∫—Ä–∏—Ç–µ—Ä–∏–π –ú–∞–Ω–Ω–∞-–£–∏—Ç–Ω–∏ –Ω–∞ ¬´–æ—á–∏—â–µ–Ω–Ω—ã—Ö¬ª –¥–∞–Ω–Ω—ã—Ö, –º—ã –ø–æ–ª—É—á–∞–µ–º p-–∑–Ω–∞—á–µ–Ω–∏–µ 0,017, —á—Ç–æ –º–µ–Ω—å—à–µ —É—Ä–æ–≤–Ω—è –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ –∞–ª—å—Ñ–∞, —Ä–∞–≤–Ω–æ–≥–æ 0,05. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É, —É—Ç–≤–µ—Ä–∂–¥–∞—é—â—É—é, —á—Ç–æ –Ω–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–∞–∑–Ω–∏—Ü—ã –≤ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö —á–µ–∫–∞ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ê –∏ –í. –ú–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B –µ—Å—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –∑–∞–∫–∞–∑–∞ –ø–æ —Å—ã—Ä—ã–º –¥–∞–Ω–Ω—ã–º.
# –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –∑–∞–∫–∞–∑–∞ –≤ –≥—Ä—É–ø–ø–µ B –æ–∫–∞–∑–∞–ª—Å—è –Ω–∞ 13.8% –≤—ã—à–µ, —á–µ–º –≤ –≥—Ä—É–ø–ø–µ A.
# –≠—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è A/B-—Ç–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–∏–ø–æ—Ç–µ–∑, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≥–∏–ø–æ—Ç–µ–∑—ã –æ —Ç–æ–º, –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ –ø—Ä–∏–≤–µ–¥—É—Ç –∫ —É–≤–µ–ª–∏—á–µ–Ω–∏—é –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏ –≤—ã—Ä—É—á–∫–∏.

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§îv_9<a class="tocSkip"></h2>
# 
# –î–µ–Ω–∏—Å, —É –Ω–∞—Å –≤—ã–≤–æ–¥—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–∞—Å—á–µ—Ç–∞–º, –º—ã —Å—á–∏—Ç–∞–µ–º —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, –∞ –ø–∏—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤. –°–≤–µ—Ä—å –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤—ã–≤–æ–¥—ã –∏ —Ä–∞—Å—á–µ—Ç—ã. –î–≤–∞ —Ä–∞—Å—á–µ—Ç–∞ –≤–µ—Ä–Ω—ã, –Ω–æ –≤—ã–≤–æ–¥—ã –ø–æ –Ω–∏–º —É–∫–∞–∑–∞–Ω—ã –Ω–µ–≤–µ—Ä–Ω–æ.

# <div class="alert alert-info"> <b> –ü–æ–º–µ–Ω—è–ª –≤—ã–≤–æ–¥—ã, –¥–æ–±–∞–≤–∏–ª —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫</b></div>

# <div class="alert alert-info"> <b> –ü–µ—Ä–µ–Ω–µ—Å –∫–æ–¥ —Å—é–¥–∞</b></div>

# <div class="alert alert-warning">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§ì<a class="tocSkip"> </h2>
# 
# –ê —ç—Ç–æ—Ç —Ç–µ—Å—Ç —É –Ω–∞—Å –∫ —á–µ–º—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è?

# <div class="alert alert-info"> <b> –≠—Ç–æ —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã–±—Ä–æ—Å—ã –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î <a class="tocSkip"></h2>
# 
# –ù–æ —Ä–∞—Å—á–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π, –ø–æ–¥–æ–±–Ω—ã–π –±—ã–ª —Ä–∞–Ω–µ–µ, —Å–¥–µ–ª–∞–Ω –≤—ã—à–µ –∏ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.

# <div class="alert alert-info"> <b> –£–¥–∞–ª–∏–ª —Ä–∞—Å—á–µ—Ç</b></div>

# In[42]:


ordersByUsers = (
    orders.groupby('visitorId', as_index=False)
    .agg({'transactionId': 'sum'})
)

ordersByUsers.columns = ['visitorId', 'orders']


# In[43]:


# –í—ã—á–∏—Å–ª—è–µ–º 99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–æ–≤ –∑–∞–∫–∞–∑–æ–≤
quantile_value = np.percentile(orders['revenue'], 99)

# –í—ã—á–∏—Å–ª—è–µ–º 99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤
y = np.percentile(pd.concat([ordersByUsersA['orders'], ordersByUsersB['orders']], axis=0), 99)

# –ù–∞—Ö–æ–¥–∏–º –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
usersWithManyOrders = pd.concat(
    [ordersByUsersA[ordersByUsersA['orders'] > y]['visitorId'],
     ordersByUsersB[ordersByUsersB['orders'] > y]['visitorId']],
    axis=0
)

usersWithExpensiveOrders = orders[orders['revenue'] > quantile_value]['visitorId']

abnormalUsers = pd.concat([usersWithManyOrders, usersWithExpensiveOrders], axis=0).drop_duplicates().sort_values()

print(abnormalUsers.head(5))
print('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:', abnormalUsers.shape[0])


# –ë—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω –∞–Ω–∞–ª–∏–∑ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –≤—ã–±–æ—Ä–∫–µ.
# 
# –ê–Ω–æ–º–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –±—ã–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç–µ, –∫—Ç–æ —Å–æ–≤–µ—Ä—à–∏–ª –±–æ–ª—å—à–µ y –∑–∞–∫–∞–∑–æ–≤ –∏–ª–∏ —Å–æ–≤–µ—Ä—à–∏–ª –∑–∞–∫–∞–∑—ã —Å –≤—ã—Ä—É—á–∫–æ–π, –ø—Ä–µ–≤—ã—à–∞—é—â–µ–π –∑–Ω–∞—á–µ–Ω–∏–µ –∫–≤–∞–Ω—Ç–∏–ª—è.
# 
# –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∞–Ω–∞–ª–∏–∑–∞ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã 15 –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#     –ù—É–ª–µ–≤–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö A –∏ B –Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è
#     –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö A –∏ B —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è

# In[48]:


sampleAFiltered = pd.concat(
    [
        ordersByUsersA[
            np.logical_not(ordersByUsersA['visitorId'].isin(abnormalUsers))
        ]['orders'],
        pd.Series(
            0,
            index=np.arange(
                data['visitorsPerDateA'].sum() - len(ordersByUsersA['orders'])
            ),
            name='orders',
        ),
    ],
    axis=0,
)

sampleBFiltered = pd.concat(
    [
        ordersByUsersB[
            np.logical_not(ordersByUsersB['visitorId'].isin(abnormalUsers))
        ]['orders'],
        pd.Series(
            0,
            index=np.arange(
                data['visitorsPerDateB'].sum() - len(ordersByUsersB['orders'])
            ),
            name='orders',
        ),
    ],
    axis=0,
)

p_value2 =stats.mannwhitneyu(sampleAFiltered, sampleBFiltered)[1]

print('p-value: {0:.3f} '.format(p_value2))

if p_value2 < 0.05:
    print('–û—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö –ê –∏ –í —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è.')
else:
    print('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É: —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –Ω–µ—Ç.')
print('–†–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏: {:.1%}'.format(sampleBFiltered.mean()/sampleAFiltered.mean()-1))


# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_8 <a class="tocSkip"> </h2>
# 
# –í–æ—Ç —ç—Ç–æ—Ç —Ä–∞—Å—á–µ—Ç –ø–æ –ö–û–ù–í–ï–†–°–ò–ò —Ç–æ–∂–µ –≤–µ—Ä–Ω—ã–π, –æ–Ω —É –Ω–∞—Å –ø–æ –û–ß–ò–©–ï–ù–ù–´–ú –¥–∞–Ω–Ω—ã–º.

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_7 <a class="tocSkip"></h2>
# <s>
# –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —è—á–µ–π–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø—Ä–æ–µ–∫—Ç–∞ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–æ–¥–∞ ‚Äî —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –Ω–∞–∂–∞–≤ –Ω–∞ –ø–∞–Ω–µ–ª–∏ Jupiter Hub ``Kernel`` –∏ ``Restart & Run All`` (—Å–º —Å–∫—Ä–∏–Ω—à–æ—Ç –Ω–∏–∂–µ).
# ![](https://i.postimg.cc/yd19rYf6/Screenshot-428.png)

# –ù–∞ —É—Ä–æ–≤–Ω–µ –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ 0.05 –µ—Å—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –æ—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É –æ —Ç–æ–º, —á—Ç–æ —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö A –∏ B —Ä–∞–≤–Ω—ã.
# 
# –†–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 15.3%. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≥—Ä—É–ø–ø–∞ B –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –≥—Ä—É–ø–ø–æ–π A. 

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_8  <a class="tocSkip"></h2>
# <s>
# –í—ã–≤–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É, –∞ —Ä–∞—Å—á–µ—Ç –º—ã –ø—Ä–æ–≤–æ–¥–∏–º –ø–æ –ö–û–õ–ò–ß–ï–°–¢–í–£ –ó–ê–ö–ê–ó–û–í. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥.

# <div class="alert alert-info"> <b> –ü–æ–º–µ–Ω—è–ª –≤—ã–≤–æ–¥ –ø–æ —Ç–µ—Å—Ç—É</b></div>

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_9 <a class="tocSkip"> </h2>
# 
# üëç

# –ù—É–ª–µ–≤–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–µ –ê –∏ –í –Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è.
# 
# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞: –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–µ –ê –∏ –í —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è.

# In[45]:


orders_clean = orders.query('visitorId not in @abnormalUsers')
revenue_A = orders_clean.query('group == "A"')['revenue']
revenue_B = orders_clean.query('group == "B"')['revenue']

mean_order_value_A = orders_clean.query('group == "A"')['revenue'].mean()
mean_order_value_B = orders_clean.query('group == "B"')['revenue'].mean()

relative_difference = (mean_order_value_B / mean_order_value_A - 1) * 100
statistic, pvalue = mannwhitneyu(revenue_A, revenue_B, alternative='two-sided')

print("p-value: {:.4f}".format(pvalue))
print("–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤ –≥—Ä—É–ø–ø–µ A: {:.2f}".format(mean_order_value_A))
print("–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤ –≥—Ä—É–ø–ø–µ B: {:.2f}".format(mean_order_value_B))
print("–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ä–µ–¥–Ω–∏–º–∏ —á–µ–∫–∞–º–∏: {:.2f}%".format(relative_difference))


#   –ó–Ω–∞—á–µ–Ω–∏–µ p 0,8509 –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ, —á–µ–º –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∞–ª—å—Ñ–∞-—É—Ä–æ–≤–µ–Ω—å 0,05, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –Ω–µ –º–æ–∂–µ–º –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É.   
#     –ò–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å—á–µ—Ç–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤ –≥—Ä—É–ø–ø–µ A - 6436.81, –∞ –≤ –≥—Ä—É–ø–ø–µ B - 6399.81. –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ä–µ–¥–Ω–∏–º–∏ —á–µ–∫–∞–º–∏ —Å–æ—Å—Ç–∞–≤–∏–ª–∞ -0.57%, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤ –≥—Ä—É–ø–ø–µ B –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∏–∂–µ, —á–µ–º –≤ –≥—Ä—É–ø–ø–µ A.

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_8 <a class="tocSkip"> </h2>
# 
# –≠—Ç–æ—Ç —Ä–∞—Å—á–µ—Ç —Ç–æ–∂–µ –≤–µ—Ä–Ω—ã–π, –Ω–æ –æ–Ω —É –Ω–∞—Å –ø–æ –°–´–†–´–ú –¥–∞–Ω–Ω—ã–º, –µ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–æ–º –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_8<a class="tocSkip"></h2>
# <s>
# –†–∞–∑–≤–µ –º—ã –ø—Ä–æ–≤–æ–¥–∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö? –†–∞—Å—á–µ—Ç –ø–æ –°–´–†–´–ú –¥–∞–Ω–Ω—ã–º –ø–æ –ö–û–õ–ò–ß–ï–°–¢–í–£ –ó–ê–ö–ê–ó–û–í, –∞ –Ω–µ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É. –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥ –∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç –≤—ã—à–µ —Ä–∞—Å—á–µ—Ç–∞ –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º. –í–µ–¥—å —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—ã—Ä—ã–µ, –∞ —É–∂–µ –ø–æ—Ç–æ–º –ø—Ä–æ–≤–æ–¥–∏—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ –¥–µ–ª–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑.

# <div class="alert alert-info"> <b>–ü–µ—Ä–µ–Ω–µ—Å –∫–æ–¥ –¥–æ –æ—á–∏—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_9<a class="tocSkip"></h2>
# 
# –ê –∫–∞–∫ –∂–µ  —É—Ä–æ–≤–µ–Ω—å –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ (p-value), –Ω—É–∂–Ω–æ –µ–≥–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å, —ç—Ç–æ –≤–µ–¥—å —Å–∞–º–∞—è –≥–ª–∞–≤–Ω–∞—è —á–∞—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞?

# <div class="alert alert-info"> <b>–î–æ–±–∞–≤–∏–ª —Ä–∞—Å—á–µ—Ç p-value</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_8<a class="tocSkip"></h2>
# <s>
# –£ –Ω–∞—Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞—Å—á–µ—Ç –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –ø–æ –°–†–ï–î–ù–ï–ú–£ –ß–ï–ö–£, –Ω—É–∂–Ω–æ –µ–≥–æ –¥–æ–±–∞–≤–∏—Ç—å —Å —Ä–∞–∑–ª–∏—á–∏–µ–º –≤ —Å—Ä–µ–¥–Ω–∏—Ö –∏ –≤—ã–≤–æ–¥–æ–º.

# <div class="alert alert-info"> <b>–î–æ–±–∞–≤–∏–ª —Ä–∞—Å—á–µ—Ç –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –∏ –≤—ã–≤–æ–¥—ã –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î<a class="tocSkip"></h2>
#     <s>
# –ù–µ –Ω–∞—à–ª–∞ —Ä–∞—Å—á–µ—Ç –ø–æ —Å—ã—Ä—ã–º –¥–∞–Ω–Ω—ã–º –ø–æ —Å—Ä–µ–¥–Ω–∏–º —á–µ–∫–∞–º) –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏ —Ç–∞–∫–∂–µ —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö) –ù–µ –∑–∞–±—É–¥—å –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–≤–æ–¥—ã)

# <div class="alert alert-info"> <b>–î–æ–±–∞–≤–∏–ª —Ä–∞—Å—á–µ—Ç, –æ–±–Ω–æ–≤–∏–ª –≤—ã–≤–æ–¥—ã</b></div>

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_2 <a class="tocSkip"> </h2>
# <s>
# –†–∞—Å—á–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–∏—Ö –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ –∫–∞–∂–¥–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É, –∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã, –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–≤–æ–¥—ã.

# <div class="alert alert-block alert-danger">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ü§î v_3 <a class="tocSkip"> </h2>
# <s>
# –†–∞—Å—á–µ—Ç—ã –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω—ã –Ω–µ–≤–µ—Ä–Ω–æ –∏ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ.

# <div class="alert alert-info"> <b> –î–æ–±–∞–≤–∏–ª —Ä–∞—Å—á–µ—Ç—ã –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º</b></div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –í –Ω–∞—á–∞–ª–µ —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞ –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ —Å–æ–±—Ä–∞–Ω—ã –∑–∞–Ω–æ–≤–æ - —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –¢–∞–∫–∂–µ —Ç–µ—Å—Ç—ã –ø–æ –∏—Å—Ö–æ–¥–Ω—ã–º –¥–∞–Ω–Ω—ã–º —É–∂–µ –±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –ø–æ—ç—Ç–æ–º—É  –≤ –Ω–∞—á–∞–ª–µ –∏—Ö —Ç–æ–∂–µ –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å.
#     
# –¢–∞–∫–∂–µ –∑–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä—Å–µ–Ω—Ç–∏–ª–µ–π –Ω–∞–ø—Ä—è–º—É—é.
# </div>

# ## –í—ã–≤–æ–¥—ã

# –ò—Å—Ö–æ–¥—è –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã—Ö —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏, –Ω–æ –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–µ–±–æ–ª—å—à–∏–µ (2%) —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –∑–∞–∫–∞–∑–∞ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏.
# 
# –ü—Ä–∏ —Ç–∞–∫–æ–º —Ä–∞—Å–∫–ª–∞–¥–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–ª–∏—á–∏–π –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã—Ö —Ä–∞–∑–ª–∏—á–∏–π –≤ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏.
# 
# –û–¥–Ω–∞–∫–æ, —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –∑–∞–∫–∞–∑–∞ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏. –í–æ–∑–º–æ–∂–Ω–æ, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –≤—ã—è–≤–∏—Ç—å –ø—Ä–∏—á–∏–Ω—ã —ç—Ç–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è. –ï—Å–ª–∏ —Ç–∞–∫–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ–∫–∞–∂—É—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º–∏, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–∞–π—Ç–µ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –ø–æ–ª–µ–∑–Ω—ã–º.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ v.1 (–ê–ª–µ–∫—Å–µ–π)</b> 
#     
# üëç –í —Ü–µ–ª–æ–º –≤—ã–≤–æ–¥—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã, —Ç–æ–ª—å–∫–æ –æ–±—Ä–∞—Ç–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ —Ü–µ–ª–æ–º —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω, —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–µ–º —á–µ–∫–µ –Ω–µ –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã. –ü–æ—ç—Ç–æ–º—É, —Å—Ç–æ–∏—Ç —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥. –ü–æ –ø–æ–≤–æ–¥—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ - —Ç—É—Ç –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–æ–≤–µ—Ä—à–∏—Ç—å –æ—à–∏–±–∫—É –≤—Ç–æ—Ä–æ–≥–æ —Ä–æ–¥–∞ –∏ –µ—Å–ª–∏ –æ–Ω–∞ –ø—Ä–∏–µ–º–ª–µ–º–∞ - —Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ç–µ—Å—Ç –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞. –≠—Ç–æ –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç—Ä–∞—Ç–æ–π –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–µ–Ω–µ–≥.
# </div>

# ### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤—ã–≤–æ–¥—ã

# –í —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ A/B-—Ç–µ—Å—Ç–∞, —Ü–µ–ª—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–æ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—ã—Ä—É—á–∫–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞.
# 
# –í –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω—ã –≥–∏–ø–æ—Ç–µ–∑—ã —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ ICE –∏ RICE. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—ã–ª–æ –≤—ã—è–≤–ª–µ–Ω–æ, —á—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏ –≥–∏–ø–æ—Ç–µ–∑–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑–∞–Ω—ã —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å–∫–∏–¥–æ–∫ –∏ –∞–∫—Ü–∏–π –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π.
# 
# –í–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã A/B-—Ç–µ—Å—Ç–∞. –ë—ã–ª–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –≥—Ä–∞—Ñ–∏–∫–∏ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –≤—ã—Ä—É—á–∫–∏, —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º. –ë—ã–ª–æ –≤—ã—è–≤–ª–µ–Ω–æ, —á—Ç–æ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ —Ç–µ—Å—Ç–∞ –≥—Ä—É–ø–ø–∞ B –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–æ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ç–µ—Å—Ç–∞ –±—ã–ª —Ä–µ–∑–∫–∏–π —Å–∫–∞—á–æ–∫ –≤ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –≤—ã—Ä—É—á–∫–µ –≥—Ä—É–ø–ø—ã B, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ —Ç–µ—Å—Ç –±—ã–ª –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –±—ã–ª–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã "–æ—á–∏—â–µ–Ω–Ω—ã–µ" –¥–∞–Ω–Ω—ã–µ.
# 
# –ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∞–Ω–∞–ª–∏–∑–∞ –æ—á–∏—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –≤—ã–≤–æ–¥—ã:
# 
# –ï—Å—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –ø–æ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B. –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –≥—Ä—É–ø–ø–µ B –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–µ, —á–µ–º –≤ –≥—Ä—É–ø–ø–µ A.
# 
# –ù–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ A –∏ B, –æ–¥–Ω–∞–∫–æ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –Ω–∞—á–∞–ª–µ —Ç–µ—Å—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ B –±—ã–ª–∏ –∞–Ω–æ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–∂–µ —Å–Ω–∏–∑–∏–ª–∏—Å—å –¥–æ —É—Ä–æ–≤–Ω—è –≥—Ä—É–ø–ø—ã A.
# 
# –ì—Ä–∞—Ñ–∏–∫ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –≥—Ä—É–ø–ø–µ B —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã—à–µ, —á–µ–º –≤ –≥—Ä—É–ø–ø–µ A.
# 
# –ì—Ä–∞—Ñ–∏–∫ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤ –æ–±–µ–∏—Ö –≥—Ä—É–ø–ø–∞—Ö –∫–æ–ª–µ–±–ª–µ—Ç—Å—è, –Ω–æ –≤ –∫–æ–Ω—Ü–µ —Ç–µ—Å—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ B —Å—Ç–∞–ª –Ω–µ–º–Ω–æ–≥–æ –≤—ã—à–µ, —á–µ–º –≤ –≥—Ä—É–ø–ø–µ A.
# 
# –ê–Ω–∞–ª–∏–∑ –∞–Ω–æ–º–∞–ª–∏–π –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–µ—Ä—à–∞–ª–∏ –∞–Ω–æ–º–∞–ª—å–Ω–æ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –∏–ª–∏ –¥–µ–ª–∞–ª–∏ –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–∏–µ –ø–æ–∫—É–ø–∫–∏. –≠—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å–∫–∞–∂–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞, –ø–æ—ç—Ç–æ–º—É –∏—Ö –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å –∏–∑ –∞–Ω–∞–ª–∏–∑–∞.
# 
# –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ –≥—Ä—É–ø–ø–∞ B –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –Ω–æ –Ω–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É. –û–¥–Ω–∞–∫–æ, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤ –≥—Ä—É–ø–ø–µ B –≤ –∫–æ–Ω—Ü–µ —Ç–µ—Å—Ç–∞ —Å—Ç–∞–ª –Ω–µ–º–Ω–æ–≥–æ –≤—ã—à–µ, —á–µ–º –≤ –≥—Ä—É–ø–ø–µ A. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

# <div class="alert alert-success">
# <h2> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä<a class="tocSkip"> </h2>
# 
# –°–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –ø–æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ, –Ω–µ –∑–∞–±—É–¥—å –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞–±–æ—Ç–æ–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ –º—ã –∏–∑–º–µ–Ω–∏–º —Ä–µ—à–µ–Ω–∏–µ –ø–æ —Ç–µ—Å—Ç—É.

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_9<a class="tocSkip"> </h2>
#     <br/>
#     
# –î–µ–Ω–∏—Å, –≤—ã–≤–æ–¥—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–∞—à–∏–º —Ä–∞—Å—á–µ—Ç–∞–º, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å –∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π –∏—Ö. –¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º. 

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_8<a class="tocSkip"> </h2>
#     <br/>
#     
# –î–µ–Ω–∏—Å, —É –Ω–∞—Å —Ç—Ä–∏ –≤–µ—Ä–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–∞, –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –≤—ã–≤–æ–¥–∞ –ø–æ –Ω–∏–º. –ù—É–∂–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ –æ–¥–∏–Ω —Ä–∞—Å—á–µ—Ç –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –°–†–ï–î–ù–ï–ú–£ —á–µ–∫—É. –ö–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∑–µ–ª–µ–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –ª—É—á—à–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –≤–Ω–æ—Å–∏—Ç –ø—É—Ç–∞–Ω–Ω–∏—Ü—É –∏ —Å–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏ –≤—ã–≤–æ–¥ –∫ –Ω–µ–º—É. –î–∞–≤–∞–π –ø–æ—á–∏—Å—Ç–∏–º, –æ—Å—Ç–∞–ª–æ—Å—å —É–∂–µ —Å–æ–≤—Å–µ–º –Ω–µ–º–Ω–æ–≥–æ, –Ω–∞–¥–µ—é—Å—å –º—ã –Ω–∞ —Ñ–∏–Ω–∏—à–Ω–æ–π –ø—Ä—è–º–æ–π.

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_7<a class="tocSkip"> </h2>
#     <br/>
# 1) –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç –∏ –ø–æ —Å—ã—Ä—ã–º –∏ –ø–æ —Ç–æ–º—É –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—É –ø–æ –û–ß–ò–©–ï–ù–ù–´–ú –¥–∞–Ω–Ω—ã–º, —Ç.–µ. –æ–±–∞ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å 
#     
# 2) –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–≤–æ–¥—ã
#     
# 3) –ù–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ —è—á–µ–π–∫–∏

# <div class="alert alert-info"> <b> –ò—Å–ø—Ä–∞–≤–∏–ª –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ —è—á–µ–π–∫–∏, —Å —Ä–∞—Å—á–µ—Ç–∞–º–∏ –≤—Å–µ –≤–µ—Ä–Ω–æ, –≤—ã–≤–æ–¥—ã –æ–±–Ω–æ–≤–∏–ª 

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_6<a class="tocSkip"> </h2>
#     <br/>
#     
# –†–∞—Å—á–µ—Ç –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É –∫–æ–ª-–≤—É –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø—Ä–µ–∂–Ω–µ–º—É –Ω–µ–≤–µ—Ä–Ω—ã–π. –ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –í–°–ï –ø—É–Ω–∫—Ç—ã, —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ä–µ–¥–Ω–∏—Ö –ø–æ –∫–æ–ª-–≤—É –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –æ—á–∏—â–µ–Ω–Ω—ã–º —Ç–∞–∫ –∏ –Ω–µ—Ç. 
# 
# 1) –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è, –æ–±—Ä–∞—â–∞—è—Å—å –∫ —É—á–µ–±–Ω–æ–º—É –º–æ–¥—É–ª—é;
#     
# 2) –ö –ö–ê–ñ–î–û–ú–£ —Ç–µ—Å—Ç—É, —Ç.–µ. –ø–æ –∫–æ–ª-–≤—É –∑–∞–∫–∞–∑–æ–≤ –Ω–∞–º —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö 
#     
# 3) –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤—ã–≤–æ–¥—ã
#     
# 4) –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –ø–æ —Ç–µ—Å—Ç—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –≤—ã–≤–æ–¥–∞–º–∏
#     

# <div class="alert alert-info"> <b> –î–æ–±–∞–≤–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º, –≤—ã–≤–æ–¥—ã –æ–±–Ω–æ–≤–∏–ª, —Ä–∞–∑–ª–∏—á–∏—è –¥–æ–±–∞–≤–∏–ª –∫ –∫–∞–∂–¥–æ–º—É —Ç–µ—Å—Ç—É

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_5<a class="tocSkip"> </h2>
#     <br/>
#     
# –î–µ–Ω–∏—Å, —É –Ω–∞—Å –æ—Å—Ç–∞–ª–∞—Å—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Ä–µ–≤—å—é —Ä–∞–±–æ—Ç—ã, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∑—é–º–∏—Ä—É—é –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:
#     
# 1) –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è, –æ–±—Ä–∞—â–∞—è—Å—å –∫ —É—á–µ–±–Ω–æ–º—É –º–æ–¥—É–ª—é;
#     
# 2) –ö –ö–ê–ñ–î–û–ú–£ —Ç–µ—Å—Ç—É, —Ç.–µ. –ø–æ –∫–æ–ª-–≤—É –∑–∞–∫–∞–∑–æ–≤ –Ω–∞–º —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö 
#     
# 3) –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤—ã–≤–æ–¥—ã
#     
# 4) –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –ø–æ —Ç–µ—Å—Ç—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –≤—ã–≤–æ–¥–∞–º–∏
#     
# 5) —É–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥–∏–ø–æ—Ç–µ–∑—ã –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É —á–µ–∫—É

# <div class="alert alert-info"> <b> –†–∞—Å—á–µ—Ç—ã –æ–±–Ω–æ–≤–∏–ª, –¥–æ–±–∞–≤–∏–ª –∫ –∫–∞–∂–¥–æ–º—É —Ç–µ—Å—Ç—É —Ä–∞–∑–ª–∏—á–∏–µ –∏ –≥–∏–ø–æ—Ç–µ–∑—ã, –æ–±–Ω–æ–≤–∏–ª –≤—ã–≤–æ–¥—ã. –ù–µ –æ—á–µ–Ω—å –ø–æ–Ω—è–ª, –ø–æ—á–µ–º—É —Ä–µ–≤—å—é –ø–æ—Å–ª–µ–¥–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –Ω–∞ –ø—Ä–æ—à–ª–æ–º –ø—Ä–æ–µ–∫—Ç–µ –¥–∞–≤–∞–ª–æ—Å—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫</b></div>

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_4<a class="tocSkip"> </h2>
#     <br/>
#     
# –î–µ–Ω–∏—Å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏–∑—É—á–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —É—Ä–æ–∫–∞, –≤—Å–µ —Ä–∞—Å—á–µ—Ç—ã –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –¥–æ—Ä–±–æ—Ç–∫–µ.

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_3<a class="tocSkip"> </h2>
#     <br/>
#     
# –î–µ–Ω–∏—Å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –∏–∑—É—á–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —É—Ä–æ–∫–∞ –∏ —Å–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π —Ä–∞—Å—á–µ—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Å—Ä–µ–¥–Ω–∏—Ö –ø–æ –ö–ê–ñ–î–û–ú–£ —Ç–µ—Å—Ç—É, –ê —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç—ã –∫–∞–∫ –ø–æ –°–´–†–´–ú —Ç–∞–∫ –∏ –ø–æ –û–ß–ò–©–ï–ù–ù–´–ú –¥–∞–Ω–Ω—ã–º. –ù–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π, –∞ —Å—É–º–º—É –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö simple.  –ù–µ –∑–∞–±—É–¥—å –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤—ã–≤–æ–¥—ã –∏ —Ä–µ—à–µ–Ω–∏–µ –ø–æ —Ç–µ—Å—Ç—É.

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä v_2<a class="tocSkip"> </h2>
#     <br/>
#     
# –†–∞–±–æ—Ç–∞ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ)

# <div style="border:solid Purple 2px; padding: 40px">
# 
# <h2> –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ üòä<a class="tocSkip"> </h2>
#     <br/>
#  –î–µ–Ω–∏—Å, —Ç—ã —Ö–æ—Ä–æ—à–æ –ø–æ—Ä–∞–±–æ—Ç–∞–ª –ø–æ –ø—Ä–æ–µ–∫—Ç—É,  –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª—Å—è —Å –≥—Ä–∞—Ñ–∏–∫–æ–º)
#     
# –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:
#     
# * –í—ã–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫—É
# * –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã
# * –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–≤–æ–¥—ã
# * –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ç—ã –Ω–∞–π–¥–µ—à—å –≤ —Ä–∞–±–æ—Ç–µ
#     
#  
# **–ñ–µ–ª–∞—é —É–¥–∞—á–∏ –∏ –∂–¥—É —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ä–µ–≤—å—é! –ï—Å–ª–∏ –≤–¥—Ä—É–≥ —É —Ç–µ–±—è –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã, —Ç–æ —è —Å —Ä–∞–¥–æ—Å—Ç—å—é –æ—Ç–≤–µ—á—É –Ω–∞ –Ω–∏—Ö.    üòä**
#     
# ![gif](https://i.gifer.com/378.gif)
#     
# <br>   
#              
# **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:**
#  
# [–í–µ–±–∏–Ω–∞—Ä—ã –ø–æ–¥ —ç–≥–∏–¥–æ–π –ü—Ä–∞–∫—Ç–∏–∫—É–º–∞](https://vk.com/yandex.praktikum?w=wall-176471180_2144), 
#     
# [–õ–µ–∫—Ü–∏–∏ –ê–Ω–∞—Ç–æ–ª–∏—è –ö–∞—Ä–ø–æ–≤–∞ 1](https://www.youtube.com/watch?v=jnFVmtaeSA0&list=WL&index=19&t=2s) [2](https://www.youtube.com/watch?v=gljfGAkgX_o&list=WL&index=4)
#     
# –ú–∞—Ç–µ—Ä–∏–∞–ª—ã [gopractice](https://gopractice.ru/summary/)
# 
# –õ–µ–∫—Ü–∏—é –ö–∞—Ä—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ [–°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ](https://www.youtube.com/watch?v=-zps6hm0nX8&t=1269s)
#         
# </div>
#     

# In[ ]:




